# Trunk ビルド設定
# https://trunkrs.dev/configuration/

[build]
# ビルド対象のHTMLファイル
target = "index.html"
# 出力ディレクトリ
dist = "dist"
# リリースビルド時にファイルにハッシュを付与（キャッシュ対策）
filehash = true
# GitHub Pages用のbase URL（リポジトリ名）
public_url = "/trianglelist/"

[watch]
# ファイル変更監視対象
watch = ["src", "index.html", "Trunk.toml"]
# 無視するパターン
ignore = ["dist"]

[serve]
# 開発サーバー設定
address = "127.0.0.1"
port = 8080
# ファイル変更時に自動リロード
open = false

# =============================================================================
# wasm-opt settings
# =============================================================================
# Trunk 0.21ではwasm-optの追加オプションを直接設定できないため、
# 環境変数TRUNK_WASM_OPT_ARGSを使用（GitHub Actionsで設定）
# ローカルビルド時は環境変数を設定するか、wasm-optを無効化
# 例: export TRUNK_WASM_OPT_ARGS="--enable-bulk-memory --enable-nontrapping-float-to-int"

# =============================================================================
# Clean settings
# =============================================================================
[clean]
# クリーン時に削除するディレクトリ
dist = "dist"
cargo = false

